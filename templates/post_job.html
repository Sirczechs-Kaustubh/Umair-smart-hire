{% extends "layout.html" %}
{% block content %}
<div class="container card" style="max-width:720px;">
  <h2>Post a New Job</h2>
  <form method="post" action="{{ url_for('post_job') }}" class="form">
    <div class="form-row">
      <label for="title">Title *</label>
      <input id="title" name="title" required>
    </div>
    <div class="form-row">
      <label for="description">Description *</label>
      <textarea id="description" name="description" rows="4" required></textarea>
    </div>
    <div class="form-row">
      <label for="skills">Skills (comma-separated) *</label>
      <input id="skills" name="skills" placeholder="Python, Flask, NLP" required>
    </div>
    <div class="form-row">
      <label for="deadline">Deadline *</label>
      <div class="date-input">
        <input id="deadline" type="date" name="deadline" required>
        <button type="button" class="calendar-btn" aria-label="Open calendar"
          onclick="(function(){const i=document.getElementById('deadline'); if(i && i.showPicker){ i.showPicker(); } else { i.focus(); }})();">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        </button>
      </div>
    </div>

    <style>
      .date-input {
        position: relative;
      }

      .date-input input {
        width: 100%;
        padding-right: 2.5rem;
      }

      .calendar-btn {
        position: absolute;
        right: .5rem;
        top: 50%;
        transform: translateY(-50%);
        border: 0;
        background: transparent;
        cursor: pointer;
        color: var(--muted);
      }

      .calendar-btn:hover {
        color: var(--text);
      }
    </style>

    <div class="form-row">
      <label for="apply_url">Application URL (optional)</label>
      <input id="apply_url" type="url" name="apply_url" placeholder="https://...">
    </div>
    <button type="submit" class="btn btn-primary">Post Job</button>
  </form>
</div>
{% endblock %}